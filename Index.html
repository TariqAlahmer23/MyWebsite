<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tariq Alahmer - Portfolio</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- Font: Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Lucide Icons - Load before body for better performance -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <!-- EmailJS SDK -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>
<body>

  <!-- Navbar -->
<header>
  <nav class="navbar">
    <!-- Left logo -->

    <div class="nav-left">
      <a href="#">
        <img src="images/Combined.png" alt="Tariq Alahmer Logo" class="logo">
      </a>
    </div>
    <button class="nav-toggle" aria-expanded="false" aria-controls="primary-menu" aria-label="Open menu">
      <span class="nav-toggle-line"></span>
      <span class="nav-toggle-line"></span>
      <span class="nav-toggle-line"></span>
    </button>
    <!-- Center links -->
    <ul class="nav-center" id="primary-menu">
      <li><a href="#hero">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#services">Services</a></li>
      <li><a href="#products">Products</a></li>
      <li><a href="#posts">Posts</a></li>
    </ul>

    <!-- Right pill -->
    <div class="nav-right">
      <a href="#contact" class="pill">Contact</a>
    </div>
  </nav>
  <button id="darkModeToggle" class="dark-mode-toggle" aria-label="Toggle dark mode" aria-pressed="false">
    <div class="toggle-icon">
      <i data-lucide="sun" class="sun-icon"></i>
      <i data-lucide="moon" class="moon-icon"></i>
    </div>
  </button>
</header>

    <!-- Hero Section -->
    <section class="hero-section" id="hero">
        <div class="section-stars" data-stars="hero"></div>
        <!-- Animated Background -->
        <div class="animated-background">
            <!-- Gradient Orbs -->
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
            <div class="gradient-orb orb-3"></div>

            <!-- Floating Particles -->
            <div class="particle particle-1"></div>
            <div class="particle particle-2"></div>
            <div class="particle particle-3"></div>
            <div class="particle particle-4"></div>
            <div class="particle particle-5"></div>
            <div class="particle particle-6"></div>

            <div class="particle particle-7"></div>
            <div class="particle particle-8"></div>
            <div class="particle particle-9"></div>
            <div class="particle particle-10"></div>
            <div class="particle particle-11"></div>
            <div class="particle particle-12"></div>
        </div>

        <div class="container hero-grid">
            <div class="hero-content">
                <div class="hero-badge">
                    <span class="badge-dot"></span>
                    <span class="badge-text">AI & Software Engineer</span>
                </div>
                <h1 class="hero-title">
                    Hi, I‚Äôm <span class="gradient-text">Tarek Alahmar</span>. I build human-centered AI products.
                </h1>
                <p class="hero-description">
                    AI and Software Engineer based between Damascus and Riyadh, focused on transforming innovative ideas into practical, people-first applications. I currently lead Grace‚Äîan AI-powered mental health companion‚Äîand help teams ship resilient web and mobile experiences end to end.
                </p>
                <ul class="hero-highlights">
                    <li>
                        <i data-lucide="brain-circuit"></i>
                        <span>Designing and deploying AI models that personalize support and improve outcomes.</span>
                    </li>
                    <li>
                        <i data-lucide="laptop"></i>
                        <span>Delivering full-stack web and mobile solutions for clients across Syria and Saudi Arabia.</span>
                    </li>
                    <li>
                        <i data-lucide="handshake"></i>
                        <span>Mentoring peers, contributing to community tech programs, and promoting accessible AI.</span>
                    </li>
                </ul>
                <div class="cta-buttons">
                    <a href="#products" class="btn btn-primary">
                        Explore recent work
                        <i data-lucide="arrow-up-right" class="btn-icon"></i>
                    </a>
                    <a href="#contact" class="btn btn-outline">
                        Book a strategy call
                        <i data-lucide="calendar" class="btn-icon"></i>
                    </a>
                </div>
                <div class="hero-trust-bar">
                    <div class="trust-label">Participated in</div>
                    <div class="trust-logos">
                        <img src="images/unrwa.png" alt="UNRWA" class="trust-logo" loading="lazy">
                        <img src="images/fmee-exhibition.jpeg" alt="FMEE" class="trust-logo" loading="lazy">
                        <img src="images/Dimashq-icon.jpg" alt="Dimashq" class="trust-logo" loading="lazy">
                        <img src="images/texpo.jpg" alt="TEXPO" class="trust-logo" loading="lazy">
                        <span class="trust-logo trust-logo--text">Germany Exhibition</span>
                    </div>
                </div>
                <div class="hero-social">
                    <a href="#" class="social-link" aria-label="GitHub">
                        <i data-lucide="github"></i>
                    </a>
                    <a href="#" class="social-link" aria-label="LinkedIn">
                        <i data-lucide="linkedin"></i>
                    </a>
                    <a href="#" class="social-link" aria-label="Twitter">
                        <i data-lucide="twitter"></i>
                    </a>
                    <a href="#" class="social-link" aria-label="Email">
                        <i data-lucide="mail"></i>
                    </a>
                </div>
            </div>

            <div class="hero-showcase">
                <div class="hero-card hero-card--main">
                    <div class="hero-card__header">
                        <span class="hero-card__tag">Build with purpose</span>
                        <span class="hero-card__icon">
                            <i data-lucide="layout-dashboard"></i>
                        </span>
                    </div>
                    <p class="hero-card__title">Discover ‚Üí Prototype ‚Üí Launch</p>
                    <p class="hero-card__copy">
                        Every engagement blends research-led discovery with rapid experimentation and measurable releases‚Äîkeeping AI models ethical, transparent, and reliable for the people who rely on them.
                    </p>
                    <ul class="hero-card__steps">
                        <li><span>01</span> Clarify the problem and user journey</li>
                        <li><span>02</span> Train and integrate intelligent features</li>
                        <li><span>03</span> Deploy, measure, and iterate with feedback</li>
                    </ul>
                </div>

                <div class="hero-photo">
                    <div class="hero-photo__glow"></div>
                    <img src="images/Me2.jpeg" alt="Tarek Alahmar working at a minimal workspace" />
                    <div class="hero-metric hero-metric--projects">
                        <span class="metric-value">Grace</span>
                        <span class="metric-label">Mental health AI companion</span>
                    </div>
                    <div class="hero-metric hero-metric--experience">
                        <span class="metric-value">2+</span>
                        <span class="metric-label">Years delivering client AI apps</span>
                    </div>
                </div>

                <div class="hero-card hero-card--secondary">
                    <div class="hero-card__body">
                        <h3>Recent focus</h3>
                        <ul>
                            <li>
                                <i data-lucide="sparkle"></i>
                                Leading Grace from concept to AI-driven companion supporting users with depression.
                            </li>
                            <li>
                                <i data-lucide="code"></i>
                                Shipping full-stack web and mobile apps with Django, React, and cloud-native tooling.
                            </li>
                            <li>
                                <i data-lucide="users"></i>
                                Teaching programming fundamentals and AI awareness in community programs.
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

<section class="about" id="about">
  <div class="section-stars" data-stars="about"></div>
  <div class="about-grid">
    <div class="about-intro reveal">
      <span class="section-eyebrow">About Tarek</span>
      <h2 class="section-title">AI engineer translating ambitious ideas into meaningful products</h2>
      <p>
        I‚Äôm Tarek Alahmar‚Äîan AI and Software Engineer with a passion for building solutions that genuinely help people. From Damascus to Riyadh, I partner with founders, healthcare leaders, and community teams to move concepts from research to reliable, user-ready software.
      </p>
      <ul class="about-highlights">
        <li>
          <i data-lucide="heart-pulse"></i>
          Lead engineer behind <strong>Grace</strong>, an AI mental health companion supporting people experiencing depression.
        </li>
        <li>
          <i data-lucide="layers"></i>
          Deliver full-stack web and mobile products‚Äîfrom UX design through scalable deployment and cloud ops.
        </li>
        <li>
          <i data-lucide="graduation-cap"></i>
          Share knowledge through community programs, teaching programming fundamentals and AI awareness.
        </li>
      </ul>
      <div class="about-actions">
        <a href="#products" class="btn btn-primary">Explore Grace & projects</a>
        <a href="#contact" class="btn btn-outline">Download CV</a>
      </div>
    </div>

    <div class="about-panels">
      <article class="about-card reveal">
        <span class="about-card__title">Focus areas</span>
        <p>Mental health technology, education platforms, civic innovation, automation for startups, and accessible AI.</p>
      </article>
      <article class="about-card reveal">
        <span class="about-card__title">Toolbelt</span>
        <div class="badge-cloud">
          <span>Python</span>
          <span>Django</span>
          <span>React</span>
          <span>TensorFlow</span>
          <span>PyTorch</span>
          <span>REST APIs</span>
          <span>AWS & GCP</span>
          <span>Docker</span>
        </div>
      </article>
      <article class="about-card reveal">
        <span class="about-card__title">Impact snapshot</span>
        <ul class="about-metrics">
          <li>
            <span class="metric-label">Current role</span>
            <span class="metric-value">Founder & AI Engineer</span>
            <span class="metric-caption">Grace mental health companion ¬∑ 2024 ‚Äì present</span>
          </li>
          <li>
            <span class="metric-label">Freelance delivery</span>
            <span class="metric-value">2022 ‚Äì 2024</span>
            <span class="metric-caption">Full-stack & AI solutions for clients in Syria and Saudi Arabia</span>
          </li>
        </ul>
      </article>
    </div>
  </div>
</section>

<section class="services" id="services">
  <div class="section-stars" data-stars="services"></div>
  <div class="section-intro reveal">
    <h2 class="section-title">What we can build together</h2>
    <p class="section-description">
      Tailored partnerships designed around clarity, velocity, and continuous learning. Choose the engagement that matches your roadmap.
    </p>
  </div>

  <div class="service-grid">
     <article class="service-card reveal">
       <div class="service-icon">
        <i data-lucide="radar"></i>
       </div>
      <h3>AI product strategy</h3>
      <p>Transform ideas into responsible AI solutions grounded in research, ethics, and measurable impact.</p>
      <ul>
        <li>User discovery & problem framing</li>
        <li>Data-readiness and model feasibility reviews</li>
        <li>Pilot roadmaps with success metrics</li>
      </ul>
    </article>
 
     <article class="service-card reveal">
       <div class="service-icon">
        <i data-lucide="code"></i>
       </div>
      <h3>Full-stack engineering</h3>
      <p>Ship performant web and mobile apps using Python, Django, React, and modern cloud tooling.</p>
      <ul>
        <li>API architecture & secure data flows</li>
        <li>Responsive UX and component systems</li>
        <li>CI/CD, observability, and cloud deployment</li>
      </ul>
    </article>
 
     <article class="service-card reveal">
       <div class="service-icon">
        <i data-lucide="bot"></i>
       </div>
      <h3>Conversational AI & automation</h3>
      <p>Design chatbots, recommendation systems, and intelligent workflows tailored to your use case.</p>
      <ul>
        <li>Custom NLP pipelines with TensorFlow & Rasa</li>
        <li>Personalized recommendations & scoring</li>
        <li>Operational automations and integrations</li>
      </ul>
    </article>
 
     <article class="service-card reveal">
       <div class="service-icon">
        <i data-lucide="book-open"></i>
       </div>
      <h3>Mentorship & consulting</h3>
      <p>Equip teams and communities with the fundamentals of AI, programming, and ethical innovation.</p>
      <ul>
        <li>Workshops on Python, AI, and product thinking</li>
        <li>Curriculum design for community programs</li>
        <li>Advisory sessions on technical roadmaps</li>
      </ul>
    </article>
  </div>
</section>

<!-- My Products -->
<section class="products" id="products">
  <canvas id="products-constellation" aria-hidden="true"></canvas>
  <div class="products-wrap">
    <div class="products-copy reveal">
      <h2 class="section-kicker">My Products</h2>

      <h3 class="section-lead">
        ‚ÄúGrace: A multilingual AI + therapist platform guiding users through a
        complete mental health journey.‚Äù
      </h3>

      <div class="product-block">
        <h4>The main feature</h4>
        <p>
          Grace blends AI-powered diagnosis with real therapist connections,
          supporting multiple languages (Arabic, English, German first)
          in one secure app.
        </p>
      </div>

      <div class="product-block">
        <h4>How it works</h4>
        <p>
          Users start with a guided AI diagnosis, move to an AI-assisted interview,
          then choose a therapist based on preferences (language, gender,
          specialisation). They continue with personalised training and progress
          tracking ‚Äî all inside the app.
        </p>
      </div>

      <div class="product-actions">
        <a href="#" class="btn">View Case Study</a>
        <a href="#" class="btn-outline">Get the App</a>
      </div>
      <div class="product-mentions">
        <p class="product-mentions__title">Grace has been showcased at:</p>
        <div class="product-mentions__logos">
          <img src="images/unrwa.png" alt="UNRWA" class="trust-logo" loading="lazy">
          <img src="images/fmee-exhibition.jpeg" alt="FMEE" class="trust-logo" loading="lazy">
          <img src="images/Dimashq-icon.jpg" alt="Dimashq" class="trust-logo" loading="lazy">
          <img src="images/texpo.jpg" alt="TEXPO" class="trust-logo" loading="lazy">
          <span class="trust-logo trust-logo--text">Germany Exhibition</span>
        </div>
      </div>
      </div>


    <!-- Two phones only -->
    <div class="products-visual reveal">
      <div class="phone phone--left">
        <img class="shot" src="images/dr.png" alt="Grace home screen">
      </div>
      <div class="phone phone--right">
        <img class="shot" src="images/test.png" alt="Grace therapist dashboard">
      </div>
    </div>
        <div class="product-media reveal">
      <video id="grace-demo"
             controls
             preload="metadata"
             playsinline
             muted
             >
        <source src="videos/MYVID.mp4" type="video/mp4">
        Sorry, your browser doesn‚Äôt support embedded videos.
      </video>
    </div>
  </div>
</section>
<!-- CTA / Contact prompt -->
<section class="cta" id="contact-cta">
  <div class="cta-sweep" aria-hidden="true"></div>
  <div class="cta-wrap reveal">
    <h2>
      Do you have a project idea?<br>
      <span>Let's discuss your <span class="swap" data-words="project,app,website,startup">project</span>!</span>
    </h2>
    <p>
      There are many variations of projects and goals‚Äîtell me yours and we‚Äôll find the best path forward.
    </p>
    <a href="#contact" class="btn btn-on-dark">
      Let‚Äôs work together <span class="arrow">‚Üí</span>
    </a>
  </div>
</section>
<!-- Posts Section -->
<section class="posts" id="posts">
  
  <div class="posts-header reveal">
    <h2>Posts</h2>
    <p>Latest updates, works, and thoughts. Click to explore, like.</p>
  </div>

  <div class="posts-carousel">
    <button class="carousel-btn prev">‚Äπ</button>
    <div class="posts-track">
<article class="post-card" 
  data-id="1" 
  data-title="Unrwa Post" 
  data-date="15 Nov 2025" 
  data-comments="0" 
  data-img="images/unrwa.jpg"
  data-bio="Happy to be in the UNRWA Exhibition , and try to make all of the people happy and satisfied with the project ( Grace ) ">
  <img src="images/unrwa.jpg" alt="Post 1">
  <div class="post-meta">15 Nov 2025</div>
  <h3>UNRWA Exhibition</h3>
</article>

<article class="post-card" 
  data-id="2" 
  data-title="FMEE POST" 
  data-date="15 Nov 2025" 
  data-comments="0" 
  data-img="images/Post-FMEE.jpg"
  data-bio="Happy to be in the FMEE Exhibition , and try to make all of the people happy and satisfied with the project ( Grace ) ">
  <img src="images/Post-FMEE.jpg" alt="Post 2">
  <div class="post-meta">15 Nov 2025</div>
  <h3>FMEE Exhibition</h3>
</article>

<article class="post-card" 
  data-id="3" 
  data-title="Germany Post" 
  data-date="15 Nov 2025" 
  data-comments="246" 
  data-img="images/germany.jpg"
  data-bio="Happy to be in the Germany Exhibition , and try to make all of the people happy and satisfied with the project ( Grace ) ">
  <img src="images/germany.jpg" alt="Post 3">
  <div class="post-meta">15 Nov 2025</div>
  <h3>GERMANY EXHIBITION</h3>
</article>
<article class="post-card" 
  data-id="4" 
  data-title="Forth Post" 
  data-date="15 Nov 2025" 
  data-comments="246" 
  data-img="images/demshq.jpg"
  data-bio="Happy to be in the Dimascus Exhibition , and try to make all of the people happy and satisfied with the project ( Grace ) ">
  <img src="images/demshq.jpg" alt="Post 4">
  <div class="post-meta">15 Nov 2025</div>
  <h3>ŸÖÿπÿ±ÿ∂ ÿØŸÖÿ¥ŸÇ ÿßŸÑÿØŸàŸÑŸä</h3>
</article>
<article class="post-card" 
  data-id="5" 
  data-title="Fifth Post" 
  data-date="15 Nov 2025" 
  data-comments="0" 
  data-img="images/unrwa.jpg"
  data-bio="Happy to be in the UNRWA Exhibition , and try to make all of the people happy and satisfied with the project ( Grace ) ">
  <img src="images/unrwa.jpg" alt="Post 5">
  <div class="post-meta">15 Nov 2025</div>
  <h3>UNRWA Exhibition</h3>
</article>
    </div>
    <button class="carousel-btn next">‚Ä∫</button>
  </div>

  <!-- Indicators -->
  <div class="carousel-dots" id="carouselDots"></div>
  <div class="post-counter">
  Total Posts: <span id="postCount"></span>
</div>

</section>

<!-- Modal -->
<div class="post-modal" id="postModal">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <button class="modal-close">√ó</button>
    <div class="modal-body">
      <img id="modal-img" src="" alt="Post Image">
      <h2 id="modal-title"></h2>
      <p id="modal-date"></p>
      <div id="modal-comments"></div>
    </div>
    <div class="modal-footer">
      <button class="action like">‚ù§Ô∏è Like (<span id="likeCount">0</span>)</button>
      <a href="#contact"><button class="action connect">ü§ù Connect</button></a>
    </div>

  </div>
</div>

<section class="contact" id="contact">
  <!-- Stars Background -->
  <div class="stars-container"></div>

  <div class="contact-container">
    <!-- Left Side -->
    <div class="contact-info">
      <h2>
        Let‚Äôs Build Something 
        <span class="changing-word">Great</span> 
      </h2>
      <p>
        Have a project idea, partnership request, or just want to say hi?  
        Reach out and I‚Äôll get back to you as soon as possible.
      </p>
      <div class="info-list">
        <p>üìß <a href="mailto:Tarek4gamez@gmail.com">Tarek4gamez@gmail.com</a></p>
        <p>üìû <a href="tel:+966555123456">+966 53 941 9507</a></p>
      </div>

      <!-- Pro Social Buttons -->
      <div class="social-buttons">
        <a href="https://twitter.com" class="btn-social twitter" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-twitter"></i> Twitter
        </a>
        <a href="#" class="btn-social linkedin">
          <i class="fab fa-linkedin"></i> LinkedIn
        </a>
        <a href="#" class="btn-social github">
          <i class="fab fa-github"></i> GitHub
        </a>
      </div>
    </div>

    <!-- Right Side -->
    <form class="contact-form" id="contactForm">
      <div class="form-group">
        <input type="text" name="name" placeholder="Your Name" required>
      </div>
      <div class="form-group">
        <input type="email" name="email" placeholder="Your Email" required>
      </div>
      <div class="form-group">
        <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
      </div>
      <button type="submit" class="btn-submit">
        <span>Send Message</span>
        <svg viewBox="0 0 24 24" class="send-icon"><path d="M2 21l21-9L2 3v7l15 2-15 2z"/></svg>
      </button>
    </form>
  </div>
</section>
<footer class="site-footer">
  <div class="footer-content">
    <div class="footer-brand">
      <img src="images/Combined.png" alt="Tariq Alahmer logo mark">
      <p>Elevating human-centered experiences with intelligent design systems and thoughtful engineering.</p>
    </div>
    <div class="footer-links">
      <div>
        <span class="footer-heading">Explore</span>
        <a href="#hero">Hero</a>
        <a href="#about">About</a>
        <a href="#services">Services</a>
        <a href="#products">Products</a>
        <a href="#posts">Posts</a>
      </div>
      <div>
        <span class="footer-heading">Connect</span>
        <a href="mailto:youremail@example.com">Email</a>
        <a href="#">LinkedIn</a>
        <a href="#">Behance</a>
        <a href="#">Twitter</a>
      </div>
      <div>
        <span class="footer-heading">Availability</span>
        <p>Currently onboarding partners for Q1‚ÄîQ2 2026 product engagements.</p>
        <a class="footer-cta" href="#contact">Schedule a call</a>
      </div>
    </div>
  </div>
  <div class="footer-meta">
    <span>¬© <span id="currentYear"></span> Tariq Alahmer. Crafted in Riyadh.</span>
    <div class="footer-meta__links">
      <a href="#">Privacy</a>
      <a href="#">Terms</a>
    </div>
  </div>
</footer>


  <!-- Scripts -->
<script>
  // Wait for DOM to be ready
  (function() {
    'use strict';
    
    // Check if DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initAllScripts);
    } else {
      initAllScripts();
    }
    
    function initAllScripts() {
      // Demo: button click
      document.querySelectorAll('.btn').forEach(button => {
        button.addEventListener('click', () => {
          alert("Thanks for clicking!");
        });
      });

      const prefersReducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // ---- Explosion logic (click to explode) ----
      const bubblesContainer = document.querySelector('.hero .bubbles') || document.querySelector('.bubbles');

      // Attach click-to-explode on existing bubbles
      function armBubble(bubble) {
    bubble.addEventListener('click', (e) => {
      e.stopPropagation();
      explodeBubble(bubble);
    }, { passive: true });
  }

  document.querySelectorAll('.bubble').forEach(armBubble);

  // Make a little explosion of particles at bubble center
  function explodeBubble(bubble) {
    const rect = bubble.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2 + window.scrollX;
    const centerY = rect.top  + rect.height / 2 + window.scrollY;

    // create particles
    const count = 14; // number of particles
    for (let i = 0; i < count; i++) {
      const p = document.createElement('div');
      p.className = 'particle';

      // random direction and distance
      const angle = Math.random() * Math.PI * 2;
      const radius = 40 + Math.random() * 100; // spread
      const dx = Math.cos(angle) * radius;
      const dy = Math.sin(angle) * radius;

      // position at center
      p.style.left = (centerX - 4) + 'px';
      p.style.top  = (centerY - 4) + 'px';
      p.style.setProperty('--dx', dx + 'px');
      p.style.setProperty('--dy', dy + 'px');

      // random size + color variety
      const s = 6 + Math.random() * 10;
      p.style.width = s + 'px';
      p.style.height = s + 'px';
      if (Math.random() < 0.35) {
        // some lighter particles
        p.style.background = 'radial-gradient(circle at 30% 30%, #fff, rgba(255,180,120,0.85))';
      }

      document.body.appendChild(p);
      setTimeout(() => p.remove(), 750);
    }

    // remove bubble
    bubble.remove();

    // respawn a new bubble after a moment to keep the playground alive
    setTimeout(() => spawnBubble(), 1000);
  }

  // Create a fresh bubble with random size/position/speed
  function spawnBubble() {
    if (!bubblesContainer) return;
    const b = document.createElement('div');
    b.className = 'bubble';

    // randomize attributes similar to your nth-child styles
    const sizes = [70, 80, 90, 95, 110, 120, 130];
    const w = sizes[Math.floor(Math.random()*sizes.length)];
    b.style.width = w + 'px';
    b.style.height = w + 'px';

    const leftPercent = Math.floor(Math.random() * 85) + 5; // 5%..90%
    b.style.left = leftPercent + '%';

    // random animation duration (rise speed)
    const dur = 12 + Math.random() * 12; // 12s..24s
    b.style.animationDuration = dur + 's';

    // start just below the hero
    b.style.bottom = '-140px';

    bubblesContainer.appendChild(b);
    armBubble(b);
      }

      document.querySelectorAll('.bubble').forEach(armBubble);

      /* ==== Scroll reveal for .reveal elements ==== */
(() => {
  const io = new IntersectionObserver((entries) => {
    entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('in'); });
  }, { threshold: 0.18 });

  document.querySelectorAll('.reveal').forEach(el => io.observe(el));
})();

/* ==== Gentle parallax on mouse move over the mockups ==== */
(() => {
  const area = document.querySelector('.products-visual');
  if (!area) return;

  area.addEventListener('mousemove', (e) => {
    const r = area.getBoundingClientRect();
    const cx = e.clientX - r.left;
    const cy = e.clientY - r.top;
    const nx = (cx / r.width) - 0.5;  // -0.5 .. 0.5
    const ny = (cy / r.height) - 0.5;

    // Nudge left/right phones a bit
    const left  = area.querySelector('.phone--left');
    const right = area.querySelector('.phone--right');
    if (left)  left.style.setProperty('--extra', `translateX(${nx * -12}px)`);
    if (right) right.style.setProperty('--extra', `translateX(${nx * 12}px)`);
  });
})();
(() => {
  const section = document.querySelector('.products');
  const canvas  = document.getElementById('products-constellation');
  if (!section || !canvas) return;
  const ctx = canvas.getContext('2d');

  let w = 0, h = 0, dpr = Math.min(window.devicePixelRatio || 1, 2);
  let pts = [];
  let rafId = null;
  let running = false;

  // Theme
  const POINT_COLOR = 'rgba(15,23,42,0.60)';     // slate-ish dots
  const LINE_BASE_A = 0.15;                      // max line alpha
  const LINK_DIST   = 120;                       // px link distance

  function fitCanvas() {
    const r = section.getBoundingClientRect();
    w = Math.max(1, r.width);
    h = Math.max(1, r.height);
    canvas.width  = Math.floor(w * dpr);
    canvas.height = Math.floor(h * dpr);
    canvas.style.width  = w + 'px';
    canvas.style.height = h + 'px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

    // Density based on area (capped)
    const target = Math.min(90, Math.floor((w * h) / 25000));
    pts = Array.from({length: target}, () => ({
      x: Math.random() * w,
      y: Math.random() * h,
      vx: (Math.random() * 0.6 - 0.3),
      vy: (Math.random() * 0.6 - 0.3)
    }));
  }

  function tick() {
    ctx.clearRect(0, 0, w, h);

    // move + draw points
    for (const p of pts) {
      p.x += p.vx; p.y += p.vy;
      if (p.x < 0 || p.x > w) p.vx *= -1;
      if (p.y < 0 || p.y > h) p.vy *= -1;

      ctx.beginPath();
      ctx.arc(p.x, p.y, 1.2, 0, Math.PI * 2);
      ctx.fillStyle = POINT_COLOR;
      ctx.fill();
    }

    // lines between near neighbors
    for (let i = 0; i < pts.length; i++) {
      for (let j = i + 1; j < pts.length; j++) {
        const a = pts[i], b = pts[j];
        const dx = a.x - b.x, dy = a.y - b.y;
        const d  = Math.hypot(dx, dy);
        if (d < LINK_DIST) {
          ctx.strokeStyle = `rgba(15,23,42, ${LINE_BASE_A * (1 - d / LINK_DIST)})`;
          ctx.lineWidth = 1;
          ctx.beginPath();
          ctx.moveTo(a.x, a.y);
          ctx.lineTo(b.x, b.y);
          ctx.stroke();
        }
      }
    }

    rafId = requestAnimationFrame(tick);
  }

  function start() {
    if (running) return;
    running = true;
    rafId = requestAnimationFrame(tick);
  }
  function stop() {
    running = false;
    if (rafId) cancelAnimationFrame(rafId);
    rafId = null;
  }

  // Resize to section
  const ro = new ResizeObserver(() => { fitCanvas(); });
  ro.observe(section);
  fitCanvas();

  // Pause when section not visible
  const io = new IntersectionObserver(([entry]) => {
    entry && entry.isIntersecting ? start() : stop();
  }, { threshold: 0.2 });
  io.observe(section);

  // Pause when tab hidden
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) stop();
    else if (io.takeRecords(), section.getBoundingClientRect().top < innerHeight && section.getBoundingClientRect().bottom > 0) start();
  });

  // Respect reduced motion
  if (window.matchMedia && matchMedia('(prefers-reduced-motion: reduce)').matches) {
    stop();
    ctx.clearRect(0, 0, w, h);
  }
})();

(() => {
  const el = document.querySelector('.cta .swap');
  if (!el) return;
  const words = (el.dataset.words || '').split(',').map(s => s.trim()).filter(Boolean);
  if (words.length < 2) return;
  let i = 0;
  setInterval(() => {
    i = (i + 1) % words.length;
    el.classList.add('out');
    setTimeout(() => {
      el.textContent = words[i];
      el.classList.remove('out');
    }, 220);
  }, 1800);
})();




const modal = document.getElementById('postModal');
const modalImg = document.getElementById('modal-img');
const modalTitle = document.getElementById('modal-title');
const modalDate = document.getElementById('modal-date');
const likeBtn = document.querySelector('.like');
const likeCount = document.getElementById('likeCount');
const closeBtn = document.querySelector('.modal-close');
const overlay = document.querySelector('.modal-overlay');

let currentPost = null;
let likes = JSON.parse(localStorage.getItem("likes")) || {};

function saveData() {
  localStorage.setItem("likes", JSON.stringify(likes));
}

// ÿπŸÜÿØ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ© - Fixed with null checks
window.addEventListener("DOMContentLoaded", () => {
  if (modal) modal.style.display = "none";
  const postCountEl = document.getElementById('postCount');
  if (postCountEl) {
    postCountEl.innerText = document.querySelectorAll('.post-card').length;
  }
});

// ŸÅÿ™ÿ≠ ÿßŸÑÿ®Ÿàÿ≥ÿ™ - Fixed with null checks
document.querySelectorAll('.post-card').forEach(card => {
  card.addEventListener('click', () => {
    if (!modal || !modalImg || !modalTitle || !modalDate) return;
    
    currentPost = card.dataset.id;
    modal.style.display = 'flex';
    modalImg.src = card.dataset.img;
    modalTitle.innerText = card.dataset.title;
    modalDate.innerText = `${card.dataset.date} ‚Ä¢ ${card.dataset.comments} Comments`;

    // ÿßŸÑÿ®ÿßŸäŸà
    const bio = card.dataset.bio || "No description available.";
    const modalBody = document.querySelector('.modal-body');
    if (modalBody) {
      modalBody.innerHTML = `
        <img src="${card.dataset.img}" alt="">
        <h2>${card.dataset.title}</h2>
        <p>${card.dataset.date}</p>
        <p>${bio}</p>
      `;
    }

    if (likeCount) {
      likeCount.innerText = likes[currentPost] || 0;
    }
  });
});

// ÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑŸÖŸàÿØÿßŸÑ - Fixed with null checks
if (closeBtn) {
  closeBtn.addEventListener('click', () => {
    if (modal) modal.style.display = 'none';
  });
}
if (overlay) {
  overlay.addEventListener('click', () => {
    if (modal) modal.style.display = 'none';
  });
}

// ŸÑÿßŸäŸÉ - Fixed with null check
if (likeBtn && likeCount) {
  likeBtn.addEventListener('click', () => {
    if (!currentPost) return;
    likes[currentPost] = (likes[currentPost] || 0) + 1;
    likeCount.innerText = likes[currentPost];
    saveData();
  });
}

// Carousel - Removed duplicate, handled below


// ÿ™ŸàŸÑŸäÿØ ŸÜÿ¨ŸàŸÖ ÿπÿ¥Ÿàÿßÿ¶Ÿäÿ© ÿØÿßÿÆŸÑ ŸÇÿ≥ŸÖ ÿßŸÑŸÄ Posts - Fixed with null check
const postsSection = document.querySelector('.posts');
if (postsSection) {
  const numStars = 50; // ÿπÿØÿØ ÿßŸÑŸÜÿ¨ŸàŸÖ ÿßŸÑÿπÿßÿØŸäÿ©

  // ÿ™ŸàŸÑŸäÿØ ÿßŸÑŸÜÿ¨ŸàŸÖ ÿßŸÑÿπÿßÿØŸäÿ©
  for (let i = 0; i < numStars; i++) {
    const star = document.createElement('div');
    star.classList.add('star');

    // ŸÖŸàÿ∂ÿπ ÿπÿ¥Ÿàÿßÿ¶Ÿä
    star.style.top = Math.random() * 100 + "%";
    star.style.left = Math.random() * 100 + "%";

    // ÿ≠ÿ¨ŸÖ ÿπÿ¥Ÿàÿßÿ¶Ÿä
    const size = Math.random() * 3 + 1;
    star.style.width = size + "px";
    star.style.height = size + "px";

    // ÿ™ÿ£ÿÆŸäÿ± ŸàŸÖÿØÿ© ÿπÿ¥Ÿàÿßÿ¶Ÿäÿ©
    star.style.animationDelay = `${Math.random() * 5}s, ${Math.random() * 60}s`;
    star.style.animationDuration = `2s, ${30 + Math.random() * 60}s`;

    postsSection.appendChild(star);
  }
}

// ‚úÖ ÿ™ŸàŸÑŸäÿØ ÿßŸÑÿ¥Ÿáÿ® ÿ®ÿ¥ŸÉŸÑ ÿØŸàÿ±Ÿä
function createShootingStar() {
  const shootingStar = document.createElement('div');
  shootingStar.classList.add('shooting-star');

  // ŸÖŸàÿ∂ÿπ ÿßŸÑÿ®ÿØÿßŸäÿ© ÿπÿ¥Ÿàÿßÿ¶Ÿä ŸÖŸÜ ÿßŸÑÿ£ÿπŸÑŸâ
  shootingStar.style.top = Math.random() * 40 + "%";
  shootingStar.style.left = Math.random() * 100 + "%";

  postsSection.appendChild(shootingStar);

  // ÿ≠ÿ∞ŸÅ ÿßŸÑÿ¥Ÿáÿßÿ® ÿ®ÿπÿØ ÿßŸÜÿ™Ÿáÿßÿ° ÿßŸÑÿ£ŸÜŸäŸÖŸäÿ¥ŸÜ
  setTimeout(() => {
    shootingStar.remove();
  }, 2000); // ŸäÿÆÿ™ŸÅŸä ÿ®ÿπÿØ 2 ÿ´ÿßŸÜŸäÿ©
}

// ÿ™ŸàŸÑŸäÿØ ÿ¥Ÿáÿßÿ® ÿ¨ÿØŸäÿØ ŸÉŸÑ ŸÅÿ™ÿ±ÿ© (3‚Äì8 ÿ´ŸàÿßŸÜŸä) - Fixed with null check
if (!prefersReducedMotion && postsSection) {
  setInterval(createShootingStar, Math.random() * 5000 + 3000);
}



      // Posts Carousel Setup - Enhanced navigation
      const cards = document.querySelectorAll('.post-card');
      const dotsContainer = document.getElementById('carouselDots');
      const track = document.querySelector('.posts-track');
      const nextBtnCarousel = document.querySelector('.next');
      const prevBtnCarousel = document.querySelector('.prev');

      let currentIndex = 0;
      const cardsPerView = 1;
      const totalDots = Math.ceil(cards.length / cardsPerView);
      const cardWidth = 440; // Match CSS width
      const gap = 24; // Match CSS gap
      const scrollAmount = cardWidth + gap;

      // ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÜŸÇÿßÿ∑ - Create dots
      if (dotsContainer) {
        for (let i = 0; i < totalDots; i++) {
          const dot = document.createElement('span');
          dot.classList.add('dot');
          if (i === 0) dot.classList.add('active');
          dot.dataset.index = i;
          dotsContainer.appendChild(dot);
        }
      }

      // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÜŸÇÿßÿ∑ - Update dots
      function updateDots(index) {
        document.querySelectorAll('.dot').forEach((dot, i) => {
          dot.classList.toggle('active', i === index);
        });
      }

      // Navigation buttons - Enhanced carousel navigation
      if (track && nextBtnCarousel && prevBtnCarousel) {
        // Next button (‚Üí)
        nextBtnCarousel.addEventListener('click', () => {
          if (currentIndex < totalDots - 1) {
            currentIndex++;
            track.scrollTo({ left: currentIndex * scrollAmount, behavior: 'smooth' });
            updateDots(currentIndex);
          }
        });
        
        // Previous button (‚Üê)
        prevBtnCarousel.addEventListener('click', () => {
          if (currentIndex > 0) {
            currentIndex--;
            track.scrollTo({ left: currentIndex * scrollAmount, behavior: 'smooth' });
            updateDots(currentIndex);
          }
        });
        
        // Update dots when user scrolls manually
        track.addEventListener('scroll', () => {
          const scrollLeft = track.scrollLeft;
          const newIndex = Math.round(scrollLeft / scrollAmount);
          if (newIndex !== currentIndex && newIndex >= 0 && newIndex < totalDots) {
            currentIndex = newIndex;
            updateDots(currentIndex);
          }
        });
      }

      // Navigation via dots - Click on dots to jump to specific post
      if (track) {
        document.querySelectorAll('.dot').forEach(dot => {
          dot.addEventListener('click', () => {
            currentIndex = parseInt(dot.dataset.index);
            track.scrollTo({ left: currentIndex * scrollAmount, behavior: 'smooth' });
            updateDots(currentIndex);
          });
        });
      }
const starsContainer = document.querySelector('.stars-container');
const words = ["Great", "Amazing", "Creative", "Powerful"];
const changingWord = document.querySelector('.changing-word');
let index = 0;

// Generate stars - Fixed with null check
if (starsContainer) {
  for (let i = 0; i < 50; i++) {
    const star = document.createElement('div');
    star.classList.add('star');
    star.style.top = Math.random() * 100 + '%';
    star.style.left = Math.random() * 100 + '%';
    star.style.width = star.style.height = (Math.random() * 3 + 1) + 'px';
    star.style.animationDelay = Math.random() * 3 + 's';
    starsContainer.appendChild(star);
  }
}

// Shooting stars loop (fast + continuous) - Fixed with null check
if (!prefersReducedMotion && starsContainer) {
  setInterval(() => {
    const shootingStar = document.createElement('div');
    shootingStar.classList.add('shooting-star');
    shootingStar.style.top = Math.random() * 40 + "%";
    shootingStar.style.left = Math.random() * 100 + "%";
    starsContainer.appendChild(shootingStar);
    setTimeout(() => shootingStar.remove(), 1500);
  }, 2000);
}

function populateSectionStars(container, config = {}) {
  if (!container || container.dataset.sparklesReady) return;
  container.dataset.sparklesReady = 'true';

  const {
    count = 50,
    minDelay = 4500,
    maxDelay = 7800
  } = config;

  const fragment = document.createDocumentFragment();
  for (let i = 0; i < count; i++) {
    const sparkle = document.createElement('span');
    sparkle.className = 'sparkle';
    sparkle.style.top = `${Math.random() * 100}%`;
    sparkle.style.left = `${Math.random() * 100}%`;
    sparkle.style.animationDelay = `${Math.random() * 5}s`;
    sparkle.style.animationDuration = `${6 + Math.random() * 5}s`;
    fragment.appendChild(sparkle);
  }
  container.appendChild(fragment);

  if (prefersReducedMotion) return;

  const spawnShootingSparkle = () => {
    const shooting = document.createElement('span');
    shooting.className = 'shooting-sparkle';
    shooting.style.top = `${Math.random() * 40}%`;
    shooting.style.left = `${20 + Math.random() * 80}%`;
    container.appendChild(shooting);
    setTimeout(() => shooting.remove(), 1600);
  };

  const scheduleSparkle = () => {
    const delay = minDelay + Math.random() * (maxDelay - minDelay);
    setTimeout(() => {
      if (!document.body.contains(container)) return;
      spawnShootingSparkle();
      scheduleSparkle();
    }, delay);
  };

  scheduleSparkle();
}

const sectionStarConfig = {
  hero: { count: 70, minDelay: 3200, maxDelay: 6400 },
  about: { count: 52, minDelay: 4200, maxDelay: 7600 },
  services: { count: 60, minDelay: 3600, maxDelay: 6800 }
};

document.querySelectorAll('.section-stars').forEach(section => {
  const key = section.dataset.stars || 'default';
  populateSectionStars(section, sectionStarConfig[key] || {});
});

      // Word changer - Fixed with null check
      if (changingWord) {
        setInterval(() => {
          index = (index + 1) % words.length;
          changingWord.textContent = words[index];
        }, 3000);
      }
    } // End of initAllScripts function
  })(); // End of IIFE

// Add smooth hover effects to buttons
document.querySelectorAll('.btn').forEach(button => {
    button.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-2px)';
    });
    
    button.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0)';
    });
});

// Add smooth hover effects to social links
document.querySelectorAll('.social-link').forEach(link => {
    link.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-4px) scale(1.1)';
    });
    
    link.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0) scale(1)';
    });
    
    link.addEventListener('mousedown', function() {
        this.style.transform = 'translateY(-2px) scale(0.95)';
    });
    
    link.addEventListener('mouseup', function() {
        this.style.transform = 'translateY(-4px) scale(1.1)';
    });
});

// Parallax effect for decorative blurs (optional enhancement)
document.addEventListener('mousemove', (e) => {
    const { clientX, clientY } = e;
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;
    
    const moveX = (clientX - centerX) / 50;
    const moveY = (clientY - centerY) / 50;
    
    const blurs = document.querySelectorAll('.decorative-blur');
    blurs.forEach((blur, index) => {
        const factor = index % 2 === 0 ? 1 : -1;
        blur.style.transform = `translate(${moveX * factor}px, ${moveY * factor}px)`;
    });
});

// Add click handlers for buttons (you can customize these) - Fixed with null checks
const btnPrimary = document.querySelector('.btn-primary');
if (btnPrimary) {
    btnPrimary.addEventListener('click', () => {
        console.log('View My Work clicked');
        // Add your navigation logic here
        // window.location.href = '#portfolio';
    });
}

const btnOutline = document.querySelector('.btn-outline');
if (btnOutline) {
    btnOutline.addEventListener('click', () => {
        console.log('Get In Touch clicked');
        // Add your contact logic here
        // window.location.href = '#contact';
    });
}

// Social links click handlers (customize with your actual social URLs) - Fixed with null checks
const socialLinks = document.querySelectorAll('.social-link');
if (socialLinks[0]) {
    socialLinks[0].addEventListener('click', (e) => {
        e.preventDefault();
        window.open('https://github.com/yourusername', '_blank');
    });
}

if (socialLinks[1]) {
    socialLinks[1].addEventListener('click', (e) => {
        e.preventDefault();
        window.open('https://linkedin.com/in/yourusername', '_blank');
    });
}

if (socialLinks[2]) {
    socialLinks[2].addEventListener('click', (e) => {
        e.preventDefault();
        window.open('https://twitter.com/yourusername', '_blank');
    });
}

if (socialLinks[3]) {
    socialLinks[3].addEventListener('click', (e) => {
        e.preventDefault();
        window.location.href = 'mailto:tarek4gamez@gmail.com';
    });
}


const navToggle = document.querySelector(".nav-toggle");
const navMenu = document.getElementById("primary-menu");

if (navToggle && navMenu) {
  navToggle.addEventListener("click", () => {
    const expanded = navToggle.getAttribute("aria-expanded") === "true" || false;
    navToggle.setAttribute("aria-expanded", !expanded);
    navMenu.classList.toggle("active");
  });
}

// Set current year - Fixed
const yearTarget = document.getElementById('currentYear');
if (yearTarget) {
  yearTarget.textContent = new Date().getFullYear();
}

const navLinks = document.querySelectorAll('.navbar a[href^="#"]');
navLinks.forEach(link => {
  link.addEventListener('click', (event) => {
    const targetId = link.getAttribute('href');
    if (!targetId || targetId === '#') return;
    const targetEl = document.querySelector(targetId);
    if (!targetEl) return;

    if (navMenu && navMenu.classList.contains('active')) {
      navMenu.classList.remove('active');
      if (navToggle) navToggle.setAttribute("aria-expanded", "false");
    }

    targetEl.classList.remove('section-spotlight');
    requestAnimationFrame(() => {
      targetEl.classList.add('section-spotlight');
      setTimeout(() => targetEl.classList.remove('section-spotlight'), 1100);
    });
  });
});

// Contact form handler - EmailJS Integration
(function() {
  'use strict';
  
  // Initialize EmailJS only if available and with valid key
  if (typeof emailjs !== 'undefined') {
    try {
      // Initialize EmailJS with your Public Key
      emailjs.init('-EK4n2FjOp44itbLk');
      console.log('EmailJS initialized successfully');
    } catch (error) {
      console.error('EmailJS initialization failed:', error);
    }
  } else {
    console.warn('EmailJS library not loaded. Check if the script is included in the head.');
  }
  
  function initContactForm() {
    const contactForm = document.getElementById('contactForm');
    if (!contactForm) return;
    
    contactForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(contactForm);
      const name = formData.get('name')?.trim();
      const email = formData.get('email')?.trim();
      const message = formData.get('message')?.trim();
      
      // Validate form fields
      if (!name || !email || !message) {
        alert('Please fill in all fields before submitting.');
        return;
      }
      
      // Basic email validation
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        alert('Please enter a valid email address.');
        return;
      }
      
      const submitBtn = contactForm.querySelector('.btn-submit');
      const originalText = submitBtn.querySelector('span').textContent;
      
      // Show loading state
      submitBtn.disabled = true;
      submitBtn.querySelector('span').textContent = 'Sending...';
      
      try {
        // Send email using EmailJS
        if (typeof emailjs === 'undefined') {
          throw new Error('EmailJS library not loaded. Please check your internet connection.');
        }
        
        // Verify EmailJS is initialized
        if (!emailjs || typeof emailjs.send !== 'function') {
          throw new Error('EmailJS is not properly initialized.');
        }
        
        // Prepare template parameters - make sure these match your EmailJS template variables
        const templateParams = {
          from_name: name,
          from_email: email,
          to_email: 'Tarekpvp6@gmail.com',
          message: message,
          reply_to: email,
          // Common alternative variable names (uncomment if your template uses these)
          // user_name: name,
          // user_email: email,
          // user_message: message,
          // subject: `New Contact Form Message from ${name}`
        };
        
        console.log('Sending email with params:', templateParams);
        
        const result = await emailjs.send(
          'service_6xm775p',      // Your EmailJS Service ID
          'template_ejhieqf',     // Your EmailJS Template ID
          templateParams
        );
        
        console.log('Email sent successfully:', result);
        
        // Success!
        alert(`Thank you ${name}! Your message has been sent successfully. We'll get back to you at ${email} soon.`);
        contactForm.reset();
        
      } catch (error) {
        console.error('EmailJS Error Details:', error);
        console.error('Error Code:', error?.status || 'Unknown');
        console.error('Error Text:', error?.text || error?.message || 'Unknown error');
        
        // More specific error message
        let errorMsg = 'Sorry, there was an error sending your message. ';
        if (error?.status === 400) {
          errorMsg += 'Template parameters may not match. Check browser console (F12) for details. Your EmailJS template should use these variable names: {{from_name}}, {{from_email}}, {{message}}, {{to_email}}, {{reply_to}}';
        } else if (error?.status === 401) {
          errorMsg += 'EmailJS authentication failed. Please check your Public Key.';
        } else if (error?.status === 404) {
          errorMsg += 'EmailJS service or template not found. Please verify your Service ID and Template ID.';
        } else if (error?.status === 429) {
          errorMsg += 'Too many requests. Please try again in a few minutes.';
        } else if (error?.text?.includes('insufficient authentication scopes') || error?.text?.includes('Gmail_API')) {
          errorMsg += 'Gmail API authentication issue. Please re-authenticate your Gmail service in EmailJS dashboard. Go to EmailJS > Email Services > Your Service > Reconnect Gmail with proper permissions.';
        } else {
          errorMsg += `Error: ${error?.text || error?.message || 'Unknown error'}. Please try again or contact us directly at Tarekpvp6@gmail.com`;
        }
        
        // Log full error for debugging
        console.error('Full Error Object:', JSON.stringify(error, null, 2));
        
        alert(errorMsg);
      } finally {
        // Reset button state
        submitBtn.disabled = false;
        submitBtn.querySelector('span').textContent = originalText;
      }
    });
  }
  
  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initContactForm);
  } else {
    initContactForm();
  }
})();
</script>

<script>
// Initialize Lucide Icons and Dark Mode - Must run on DOM ready
document.addEventListener('DOMContentLoaded', function() {
  // Initialize Lucide icons
  if (typeof lucide !== 'undefined') {
    lucide.createIcons();
    setTimeout(() => lucide.createIcons(), 100);
  } else {
    console.error('Lucide icons library not loaded');
  }
  
  // Initialize dark mode
  if (typeof initDarkMode === 'function') {
    initDarkMode();
  }
  
  // Initialize animations
  if (typeof initAnimations === 'function') {
    initAnimations();
  }
});

// Dark Mode Functionality
function initDarkMode() {
  const darkModeToggle = document.getElementById('darkModeToggle');
  const html = document.documentElement;
  
  if (!darkModeToggle) {
    console.warn('Dark mode toggle button not found');
    return;
  }
  
  // Check for saved theme preference or default to system preference
  const savedTheme = localStorage.getItem('theme');
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  
  if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
    html.classList.add('dark');
  }
  darkModeToggle.setAttribute('aria-pressed', html.classList.contains('dark'));
  
  // Toggle dark mode
  darkModeToggle.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    
    html.classList.toggle('dark');
    const isDark = html.classList.contains('dark');
    darkModeToggle.setAttribute('aria-pressed', isDark);
    
    // Save preference
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    
    // Re-create icons to update colors
    if (typeof lucide !== 'undefined') {
      lucide.createIcons();
    }
  });
  
  // Ensure icons match initial state
  if (typeof lucide !== 'undefined') {
    lucide.createIcons();
  }
}

// Animation Enhancements
function initAnimations() {
  // Observe elements for scroll animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.opacity = '1';
        entry.target.style.transform = 'translateY(0)';
      }
    });
  }, observerOptions);
  
  // Observe all stat cards and content
  const animatedElements = document.querySelectorAll('.hero-content, .hero-showcase, .hero-card, .about-card, .service-card, .products-copy, .products-visual, .product-media');
  animatedElements.forEach(el => observer.observe(el));
}
</script>

</body>
</html>
